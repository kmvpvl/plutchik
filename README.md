# `!DRAFT!` Plutchik API
API for dating sevices based on studies of Robert Plutchik. 
[See Wikipedia about R.Plutchik studies](#https://en.wikipedia.org/wiki/Robert_Plutchik)

## Content

[Introduction](#introduction)

[How to get started](#how-to-get-started)

[How to contrubute](#how-to-contrubute)

[How to add content](#how-to-add-content)

[Why it's free for dating services](#why-its-free-for-dating-services)

[References](#references)
## Introduction

![<img width="10px"/>](https://upload.wikimedia.org/wikipedia/commons/thumb/c/ce/Plutchik-wheel.svg/300px-Plutchik-wheel.svg.png)

API helps feeding users with content to be assessed. API matchs users according with their evaluations. API can recommend content to increase precsion of matching.

Collecting of assessments is anonymous fully. Plutchik API don't collect names or other information about users' identification in dating service. Every user gets new uniq id generated by Plutchik API. This uniq id is known to dating service only. We consider to publish code for your and users assurance. Our authrization model is safe for users and anonymous fully.

## How to get started

## How to contrubute

## How to add content

## How to add users

## How to add assesment by uses

## How to get matches

## How to discover new users from other dating services or psycology teams

## Why it's free for dating services

## Authorization schemas

## API
|object|Description|
|---|---|
|User| User who can evaluate content and get matched with other users|
|Content| Item (unit) for evaluation by Plutchik's wheel|

|method|Description|
|---|---|
|[version](#version)| Gets version Plutchik API|
|[adduser](#adduser)| Adds new user|
|[getsessiontoken](#getsessiontoken)| Gets session token for user|
|[blockuser](#blockuser)| Block user|
|[unblockuser](#unblockuser)| Unblock user|

---
* ### **`version`** 
    Description: returns object with values of versions: api, data, ai
    
    Method: `GET`

    Parameters: `NONE`

    Security schema: `NONE`

    Returns: 
    
    * object version {api: x.x.x, data: x.x.x, ai: x.x.x}
    * format application/json


    [Back to API ðŸ‘†](#api)
---
* ### **`adduser`**
    Description: creates user or updates existing user. Returns actual user information 
    
    Method: `POST`

    Parameters: 
        
    | Parameter | description | Format | Where |Mandatory|
    | --- | --- | --- | --- | --- |
    | `organizationid` | Uniq id of organization | MongoDB uuid | header |âœ…
    | `organizationkey`| Key recieved from Plutchik API with exact roles| MongoDB uuid | header | âœ…
    |`userinfo`||||âœ…|
    |`userinfo.userid` | Uniq user id of user which info changed. Can be empty or absent, then new user will be created | MongoDB uuid | query|
    |`userinfo.birthdate`|User's birthdate|YYYY-mm-dd|query|
    |`userinfo.nativelanguage`|User's native language|string|query|
    |`userinfo.secondlanguages`|Other user's languages that can be used|Array of string|query|
    |`userinfo.location`|String as 'lat: xx.xxxxx, lng: yy.yyyyy' or 'Prague, Czech' etc. which describes user's location|string|query|
    |`userinfo.gender`|User's gender in his(her,...) opinion|string|query|
    |`userinfo.maritalstatus`| User's marital status in one's opinion| string|query|
    |`userinfo.features`|Any information about user|string|query|



    Security schemas: 
    ` PlutchikAuthOrganizationId & PlutchikAuthOrganizationKey`

    Returns: 
    * format `application/json`
    * #### object `User`
    ```
    interface IUser {
        _id: Types.ObjectId;
        organizationid: Types.ObjectId;
        birthdate: Date;
        nativelanguage: string;
        secondlanguages: Array<string>,
        location: string;
        gender: string;
        maritalstatus: string;
        features: string;
        blocked: boolean;
        created: Date;
        changed: Date;
    }    
    ```
    Request example:
    ```
    POST http://localhost:8000/adduser
    Content-Type: application/json
    organizationid: 63c0e7dad80176886c22129d
    organizationkey: 63c2875ecb60f72dc1eb6bbb
    userid: 63c28926cb60f72dc1eb6bbf

    {
        "userinfo": {
            "birthdate": "1972-07-23",
            "nativelanguage": "English",
            "secondlanguages": ["French", "Ukrain"],
            "location": "Prague",
            "gender": "male",
            "maritalstatus": "single",
            "features": "extra",
            "blocked": "false"
        }
    }
    ```

    [Back to API ðŸ‘†](#api)
---
* ### **`getsessiontoken`**
    Description: returns session token for user 
    
    Method: `GET`

    Parameters: 
        
    | Parameter | description | Format | Where |Mandatory|
    | --- | --- | --- | --- |---|
    | `organizationid` | Uniq id of organization | MongoDB uuid | header |âœ…
    | `organizationkey`| Key recieved from Plutchik API with exact roles| MongoDB uuid | header | âœ…
    | `userid` | User which session token requsted for | MongoDB uuid | header|âœ…


    Security schemas: 
    ` PlutchikAuthOrganizationId & PlutchikAuthOrganizationKey & PlutchikAuthUserId`

    Returns: 
    
    * text string MongoDB uuid 
    * format application/json

    [Back to API ðŸ‘†](#api)
---
* ### **`blockuser`**
    Description: Blocks user. After that user can't assess content and can't get matched
    
    Method: `GET`

    Parameters: 
        
    | Parameter | description | Format | Where |Mandatory|
    | --- | --- | --- | --- |---|
    | `organizationid` | Uniq id of organization | MongoDB uuid | header |âœ…
    | `organizationkey`| Key recieved from Plutchik API with exact roles| MongoDB uuid | header | âœ…
    | `userid` | User which session token requsted for | MongoDB uuid | header|âœ…


    Security schemas: 
    ` PlutchikAuthOrganizationId & PlutchikAuthOrganizationKey & PlutchikAuthUserId`

    Returns: NONE

    [Back to API ðŸ‘†](#api)
---
* ### **`unblockuser`**
    Description: Unblocks user. After that user can assess content and can get matched
    
    Method: `GET`

    Parameters: 
        
    | Parameter | description | Format | Where |Mandatory|
    | --- | --- | --- | --- |---|
    | `organizationid` | Uniq id of organization | MongoDB uuid | header |âœ…
    | `organizationkey`| Key recieved from Plutchik API with exact roles| MongoDB uuid | header | âœ…
    | `userid` | User which session token requsted for | MongoDB uuid | header|âœ…


    Security schemas: 
    ` PlutchikAuthOrganizationId & PlutchikAuthOrganizationKey & PlutchikAuthUserId`

    Returns: `NONE`

    [Back to API ðŸ‘†](#api)
---

## References
1. [Wikipedia](#https://en.wikipedia.org/wiki/Robert_Plutchik) about R.Plutchik studies